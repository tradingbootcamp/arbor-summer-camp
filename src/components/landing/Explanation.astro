---
import { getLangFromUrl, useTranslations, useTranslatedPath } from "@i18n/utils";
import ImageCarousel from "./ImageCarousel.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<section id="explanation" class="section branches-section home-dark-section py-4 lg:py-24 pt-12">
    <div class="wrapper w-full">

  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-forest-950">What is Arbor Summer Camp?</h2>
      <p class="mt-4 text-xl max-w-3xl mx-auto text-forest-800">
        A week of experimental learning at <a href="https://lighthaven.space" target="_blank" rel="noopener" class= "hover:text-campfire-400 no-underline">Lighthaven Campus</a>
      </p>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
      <div class="lg:col-span-7 prose prose-lg">
        <p class="mb-4">
          Arbor Summer Camp is an in-person opportunity to learn via creation, experimentation, and gameplay. Our philosophy is that the best way to learn is to do, and that if you really want to grok an idea, you need to feel it in your bones.</p>
        <p class="mb-4">
          Think "college" and "Disneyland." A dozen different branches — bootcamps, workshops, games, and multi-day immersive experiences — will run in parallel across campus throughout the week. Some of these branches — like <a href="/branches/trading_bootcamp" class="text-campfire-600 hover:text-campfire-400 no-underline">Quant Trading Bootcamp</a> and the <a href="branches/ttx" class="text-campfire-600 hover:text-campfire-400 no-underline">Transformative AI tabletop exercise</a> — are established workshops that have stood the tests of time and selection effects. Others are brand new or experimental in content and format, with you as their first <s>victims</s> students. All of them are oriented around the fact that the best way to learn is by doing.
        </p>
        <p class="mb-4 italic">
          Arbor Summer Camp takes place the week between <a href="https://less.online/" target="_blank" rel="noopener" class="text-forest-800 hover:text-campfire-400 no-underline">LessOnline</a> and <a href="https://manifest.is/" target="_blank" rel="noopener" class="text-forest-800 hover:text-campfire-400 no-underline">Manifest</a>, when hundreds of curious people will flock to <a href="https://lighthaven.space" target="_blank" rel="noopener" class="text-forest-800 hover:text-campfire-400 no-underline">Lighthaven Campus</a> to discuss, debate, and bet on every topic under the sun. It's about as promising a student body as we could ASC for.
        </p>
      </div>
      
      <div class="lg:col-span-5">
        <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-slate-100">
          <div class="bg-green-200 py-3 px-6 flex justify-between items-center">
            <h3 class="text-xl font-bold text-green-900">Optional Branches</h3>
            <a href="#branches" class="text-green-600 text-sm hover:text-white/80 hidden lg:flex items-center transition-colors duration-200">
              See all
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </a>
          </div>
          
          <div class="p-6">
            <ul class="space-y-3">
              <p>Workshops, classes, bootcamps, etc., offered by community members</p>
              <li class="flex items-start">
                <span class="text-campfire-500 mr-2 text-xl">•</span>
                <span>How to build an exchange from scratch</span>
              </li>
              <li class="flex items-start">
                <span class="text-campfire-500 mr-2 text-xl">•</span>
                <span>Vibe coding for the non-coder</span>
              </li>
              <li class="flex items-start">
                <span class="text-campfire-500 mr-2 text-xl">•</span>
                <span>Puzzles-based approach to security mindset</span>
              </li>
              <li class="flex items-start">
                <span class="text-campfire-500 mr-2 text-xl">•</span>
                <span>Designing AI Interfaces for Better Epistemics</span>
              </li>
              <!-- And more! -->
              <li class="flex items-start">
                <a href="#branches" class="group flex items-center text-forest-800 hover:text-campfire-600 transition-colors duration-200">
                  <span>... and more!</span>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                  </svg>
                </a>
              </li>
            </ul>
            
            <div class="mt-6 pt-6 border-t border-slate-200">
              <p class="text-forest-800 font-medium">
                Want to run something? We'd love to hear about it!
              </p>
              <div class="mt-4 flex flex-col sm:flex-row gap-4">
                <a href="https://airtable.com/appTX8ljKL2tArGsn/pagVYRe2JGYyIWm11/form" target="_blank" rel="noopener" class="flex-1 p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors duration-200 group">
                  <h4 class="font-bold group-hover:text-campfire-600">Independent Branch</h4>
                  <p class="text-sm mt-2">Minimal support from us, for existing established workshops</p>
                  <span class="text-campfire-500 text-xs mt-3 inline-block group-hover:translate-x-1 transition-transform duration-200">Apply →</span>
                </a>
                <a href="/incubator" target="_blank" rel="noopener" class="flex-1 p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors duration-200 group">
                  <h4 class="font-bold group-hover:text-campfire-600">Incubated Branch</h4>
                  <p class="text-sm mt-2">Attend our pedagogy incubator May 26-29 to playtest your curriculum with feedback and support</p>
                  <span class="text-campfire-500 text-xs mt-3 inline-block group-hover:translate-x-1 transition-transform duration-200">Learn more →</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add the image carousel -->
    <ImageCarousel />
  </div>
</section>

<style>
  .explanation-section {
    position: relative;
    background-color: #f8f9fa;
    overflow: hidden;
  }
  
  .explanation-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('/images/texture-light.png');
    background-size: cover;
    background-position: center;
    opacity: 0.05;
    z-index: 0;
  }
  
  .explanation-section > div {
    position: relative;
    z-index: 1;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get all links that point to the branches section
    const branchesLinks = document.querySelectorAll('a[href="#branches"]');
    
    branchesLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Get the target element
        const target = document.getElementById('branches');
        
        if (target) {
          // Smooth scroll to the target
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
          
          // Optionally update URL hash
          history.pushState('', '', '#branches');
        }
      });
    });
  });
</script>